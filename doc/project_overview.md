# ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ
## æ·±è§†è¾¹ç¼˜è§†è§‰å¹³å° (DeepVision Edge Platform)

## ğŸ¯ é¡¹ç›®ç®€ä»‹
åŸºäº RK3588 çš„æ™ºèƒ½è§†è§‰å¤„ç†å¹³å°ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„æ¨¡å—åŒ–æ¶æ„ï¼Œæ”¯æŒå¤šæ‘„åƒå¤´ç®¡ç†ã€è§†é¢‘å½•åˆ¶ã€å¸§æå–ã€AIè§†è§‰å¤„ç†ã€ç³»ç»Ÿç›‘æ§ç­‰åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### ç¼–è¯‘ç³»ç»Ÿ
- **æ„å»ºå·¥å…·**: Makefile (æ”¯æŒå¹¶è¡Œç¼–è¯‘)
- **ç¼–è¯‘å‘½ä»¤**: `make clean && make -j8`
- **æºæ–‡ä»¶ç»„ç»‡**: æ¨¡å—åŒ–åˆ†ç¦»ï¼Œå¢é‡ç¼–è¯‘

### é™æ€é¡µé¢ç³»ç»Ÿ
- **ä¸»é¡µä½ç½®**: `static/index.html`
- **åŠŸèƒ½é¡µé¢**: `static/pages/*.html`
- **ç»Ÿä¸€å¯¼èˆª**: `static/components/navigation.html`
- **åŠ¨æ€åŠ è½½**: JavaScript ç»„ä»¶åŒ–ç®¡ç†

### åç«¯æ¶æ„
- **Webæ¡†æ¶**: Crow (C++ HTTP/WebSocket)
- **æ¨¡å—åˆ†ç¦»**: Webã€Cameraã€Systemã€Utils
- **APIé©±åŠ¨**: RESTful æ¥å£è®¾è®¡

## ğŸ“ å…³é”®ç›®å½•ç»“æ„

```
cam_server_cpp/
â”œâ”€â”€ ğŸ“„ main_server.cpp          # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ ğŸ“„ Makefile                 # ç¼–è¯‘é…ç½®ï¼ˆæ ¸å¿ƒï¼‰
â”œâ”€â”€ ğŸ“ src/                     # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ web/                 # WebæœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“ camera/              # æ‘„åƒå¤´ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“ system/              # ç³»ç»Ÿç›‘æ§
â”‚   â””â”€â”€ ğŸ“ utils/               # å·¥å…·ç±»
â”œâ”€â”€ ğŸ“ static/                  # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ ğŸ“„ index.html           # ä¸»é¡µ
â”‚   â”œâ”€â”€ ğŸ“ pages/               # åŠŸèƒ½é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“ css/                 # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ js/                  # JavaScript
â””â”€â”€ ğŸ“ doc/                     # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿæ“ä½œ

### ç¼–è¯‘è¿è¡Œ
```bash
# ç¼–è¯‘
make clean && make -j8

# å¯åŠ¨
./main_server -p 8081

# è®¿é—®
http://localhost:8081
```

### ä¸»è¦é¡µé¢
- ğŸ  **ä¸»é¡µ**: `/`
- ğŸ¬ **è§†é¢‘å½•åˆ¶**: `/video_recording.html`
- ğŸ–¼ï¸ **å¸§æå–**: `/frame_extraction.html`
- ğŸ“¸ **æ‹ç…§åŠŸèƒ½**: `/photo_capture.html`
- ğŸ–¥ï¸ **ç³»ç»Ÿä¿¡æ¯**: `/system_info.html`
- ğŸ”Œ **ä¸²å£ä¿¡æ¯**: `/serial_info.html`

## ğŸ§­ å¯¼èˆªæ ç³»ç»Ÿ

### ç»Ÿä¸€ç®¡ç†
- **ç»„ä»¶æ–‡ä»¶**: `static/components/navigation.html`
- **ç®¡ç†å™¨**: `static/js/navigation.js`
- **ä¼˜åŠ¿**: ä¿®æ”¹ä¸€å¤„ï¼Œå…¨å±€æ›´æ–°

### ä½¿ç”¨æ–¹å¼
```html
<!-- é¡µé¢ä¸­æ·»åŠ å®¹å™¨ -->
<div id="navigation-container"></div>

<!-- å¼•å…¥ç®¡ç†å™¨ -->
<script src="/static/js/navigation.js"></script>
```

### æ·»åŠ æ–°é¡µé¢
1. åˆ›å»ºé¡µé¢æ–‡ä»¶
2. æ›´æ–° `navigation.html`
3. æ›´æ–° `navigation.js` é¡µé¢æ˜ å°„
4. æ‰€æœ‰é¡µé¢è‡ªåŠ¨æ˜¾ç¤ºæ–°å¯¼èˆª

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### æ·»åŠ æ–°åŠŸèƒ½é¡µé¢
```bash
# 1. åˆ›å»ºé¡µé¢
touch static/pages/new_feature.html

# 2. ç¼–è¾‘å¯¼èˆªç»„ä»¶
vim static/components/navigation.html

# 3. æ›´æ–°é¡µé¢æ˜ å°„
vim static/js/navigation.js
```

### æ·»åŠ æ–°API
```bash
# 1. åˆ›å»ºè·¯ç”±æ–‡ä»¶
touch src/web/new_routes.cpp
touch src/web/new_routes.h

# 2. æ›´æ–°Makefile
vim Makefile  # æ·»åŠ åˆ°WEB_SOURCES

# 3. æ³¨å†Œè·¯ç”±
vim src/web/video_server.cpp
```

### ä¿®æ”¹æ ·å¼
```bash
# å…¨å±€æ ·å¼
vim static/css/unified-style.css

# é¡µé¢ç‰¹å®šæ ·å¼
# åœ¨é¡µé¢å†…æ·»åŠ <style>æ ‡ç­¾
```

## ğŸ“¦ æ¨¡å—è¯´æ˜

### Webæ¨¡å— (`src/web/`)
- `video_server.cpp` - ä¸»æœåŠ¡å™¨
- `http_routes.cpp` - HTTPè·¯ç”±
- `websocket_handler.cpp` - WebSocketå¤„ç†
- `frame_extraction_routes.cpp` - å¸§æå–API
- `system_routes.cpp` - ç³»ç»Ÿä¿¡æ¯API
- `serial_routes.cpp` - ä¸²å£ä¿¡æ¯API

### å‰ç«¯ç»„ä»¶ (`static/`)
- `index.html` - ä¸»é¡µå…¥å£
- `pages/` - åŠŸèƒ½é¡µé¢ç›®å½•
- `components/navigation.html` - å¯¼èˆªæ ç»„ä»¶
- `js/navigation.js` - å¯¼èˆªç®¡ç†å™¨
- `css/unified-style.css` - ç»Ÿä¸€æ ·å¼

## ğŸ¨ è®¾è®¡åŸåˆ™

### å‰ç«¯è®¾è®¡
- **ç»Ÿä¸€æ ·å¼**: æ‰€æœ‰é¡µé¢ä½¿ç”¨ `unified-style.css`
- **ç»„ä»¶åŒ–**: å¯¼èˆªæ ç­‰å¯å¤ç”¨ç»„ä»¶
- **å“åº”å¼**: ç½‘æ ¼å¸ƒå±€é€‚é…ä¸åŒå±å¹•
- **ç°ä»£åŒ–**: ç±³ç™½è‰²èƒŒæ™¯ï¼Œä½é¥±å’Œåº¦é…è‰²

### åç«¯è®¾è®¡
- **æ¨¡å—åŒ–**: åŠŸèƒ½åˆ†ç¦»ï¼Œä¾¿äºç»´æŠ¤
- **APIé©±åŠ¨**: RESTfulæ¥å£è®¾è®¡
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- **æ€§èƒ½ä¼˜åŒ–**: å¢é‡ç¼–è¯‘ï¼Œå¹¶è¡Œå¤„ç†

## ğŸ“‹ APIæ¥å£

### æ‘„åƒå¤´API
- `GET /api/cameras` - æ‘„åƒå¤´åˆ—è¡¨
- `POST /api/camera/start_recording` - å¼€å§‹å½•åˆ¶
- `POST /api/camera/stop_recording` - åœæ­¢å½•åˆ¶
- `POST /api/camera/capture` - æ‹ç…§

### ç³»ç»ŸAPI
- `GET /api/system/info` - ç³»ç»Ÿä¿¡æ¯
- `GET /api/serial/devices` - ä¸²å£è®¾å¤‡

### å¸§æå–API
- `POST /api/frame-extraction/start` - å¼€å§‹æå–
- `GET /api/frame-extraction/status` - æå–çŠ¶æ€

## ğŸ” è°ƒè¯•æŠ€å·§

### ç¼–è¯‘è°ƒè¯•
```bash
make debug          # è°ƒè¯•ç‰ˆæœ¬
make test-compile   # è¯­æ³•æ£€æŸ¥
make stats          # ä»£ç ç»Ÿè®¡
```

### è¿è¡Œè°ƒè¯•
```bash
./main_server -p 8081  # å¯åŠ¨æœåŠ¡å™¨
curl -s http://localhost:8081/api/cameras  # æµ‹è¯•API
```

### å‰ç«¯è°ƒè¯•
```javascript
// æµè§ˆå™¨æ§åˆ¶å°
window.navigationManager.getCurrentPage()
window.navigationManager.isLoaded()
```

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### æ ¸å¿ƒæ–‡æ¡£
- `doc/project_architecture.md` - è¯¦ç»†æ¶æ„è¯´æ˜
- `doc/quick_dev_guide.md` - å¿«é€Ÿå¼€å‘æŒ‡å—
- `README.md` - é¡¹ç›®æ€»è§ˆ

### å¼€å‘æ–‡æ¡£
- `dev_log.md` - å¼€å‘æ—¥å¿—
- `api_documentation.md` - APIæ–‡æ¡£

## ğŸ’¡ æœ€ä½³å®è·µ

### å¼€å‘å»ºè®®
1. **éµå¾ªæ¨¡å—åŒ–**: æ–°åŠŸèƒ½æŒ‰æ¨¡å—ç»„ç»‡
2. **ä½¿ç”¨ç»Ÿä¸€æ ·å¼**: ä¿æŒç•Œé¢ä¸€è‡´æ€§
3. **APIä¼˜å…ˆ**: åç«¯æä¾›APIï¼Œå‰ç«¯è°ƒç”¨
4. **ç»„ä»¶å¤ç”¨**: åˆ©ç”¨ç°æœ‰ç»„ä»¶å’Œæ ·å¼
5. **å¢é‡å¼€å‘**: å°æ­¥å¿«è·‘ï¼Œé€æ­¥å®Œå–„

### ä»£ç è§„èŒƒ
- **C++**: ä½¿ç”¨ snake_caseï¼Œç±»å PascalCase
- **HTML**: è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œç»Ÿä¸€ç¼©è¿›
- **CSS**: BEMå‘½åï¼Œæ¨¡å—åŒ–ç»„ç»‡
- **JavaScript**: camelCaseï¼ŒES6+è¯­æ³•

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

### æŠ€æœ¯äº®ç‚¹
- âœ… **ç»Ÿä¸€å¯¼èˆªæ ç³»ç»Ÿ** - ç»„ä»¶åŒ–ç®¡ç†
- âœ… **æ¨¡å—åŒ–ç¼–è¯‘** - Makefileå¢é‡ç¼–è¯‘
- âœ… **åŠ¨æ€é¡µé¢æ‰«æ** - è‡ªåŠ¨è·¯ç”±æ³¨å†Œ
- âœ… **APIé©±åŠ¨æ¶æ„** - å‰åç«¯åˆ†ç¦»
- âœ… **å“åº”å¼è®¾è®¡** - ç°ä»£åŒ–ç•Œé¢

### å¼€å‘ä¼˜åŠ¿
- **æ˜“äºæ‰©å±•** - æ·»åŠ æ–°åŠŸèƒ½ç®€å•
- **ç»´æŠ¤å‹å¥½** - æ¨¡å—åŒ–æ¶æ„æ¸…æ™°
- **æ€§èƒ½ä¼˜åŒ–** - å¹¶è¡Œç¼–è¯‘ï¼ŒæŒ‰éœ€åŠ è½½
- **ç”¨æˆ·ä½“éªŒ** - ç»Ÿä¸€ç•Œé¢ï¼Œç›´è§‚æ“ä½œ

---

**å¿«é€Ÿå¼€å§‹**: `make clean && make -j8 && ./main_server -p 8081`
**ä¸»è¦è®¿é—®**: `http://localhost:8081`
**æ–‡æ¡£ä½ç½®**: `doc/` ç›®å½•
