# 摄像头服务器开发日志

## 2025-05-19

### 当前问题
- 出现Segmentation fault错误
- 发生在MJPEG流传输和HTTP请求同时处理时
- 已尝试的解决方案：
  - 添加深拷贝保护JPEG数据
  - 优化锁机制避免死锁
  - 增加详细日志定位问题

### 调试进展
1. 确认问题发生在客户端回调执行期间
2. 可能是多线程竞争或内存访问问题
3. 已添加核心转储分析工具

### 下一步计划
- 使用gdb分析核心转储
- 检查回调函数的内存管理
- 验证FFmpeg资源释放

## 2025-05-18
- 初始版本完成
- 基本功能测试通过
